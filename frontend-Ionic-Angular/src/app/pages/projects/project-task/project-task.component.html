<ion-card class="ion-card" color="light" *ngIf="!deleteProjectTaskLoading; else loadingBlock" [attr.projecttaskid]="projectTaskId">

  <ion-card-header>
    <ion-grid>

      <ion-row>
        <ion-grid class="ion-no-padding">
          <ion-row class="ion-justify-content-end">
            <ion-col size="5" class="ion-align-self-center ion-text-end status">
              {{ projectTask.status }}
            </ion-col>
            <ion-col size="1" class="ion-text-end">
              <ion-button fill="clear" size="small" (click)="presentProjectTaskActionSheet()">
                <ion-icon slot="icon-only" name="ellipsis-vertical-sharp"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-row>

      <ion-row>
        <ion-col class="ion-align-self-center ion-text-nowrap" size="6">
          <ion-card-title>
            {{ projectTask.title }}
          </ion-card-title>
        </ion-col>
      </ion-row>

    </ion-grid>
  </ion-card-header>

  <ion-card-content *ngIf="!projectTaskLoading; else loadingBlock">
    <ion-list>

      <ion-item>
        <ion-grid>
          <ion-row class="date">
            {{ projectTask.startDate | date: 'shortDate':'UTC' }} - {{ projectTask.dueDate  | date: 'shortDate':'UTC' }}
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item>
        <ion-text>
          {{ projectTask.description }}
        </ion-text>
      </ion-item>

      <ion-item>
        <app-assigned-employee-list [projectTaskId]="projectTaskId"></app-assigned-employee-list>
      </ion-item>

    </ion-list>

  </ion-card-content>
</ion-card>

<ng-template #loadingBlock>
  <ion-spinner></ion-spinner>
</ng-template>
